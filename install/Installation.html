<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="fr-fr"><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Installation de prototypePHP</title><meta content="Eric Quinton" name="author"><link rel="stylesheet" href="../display/CSS/proto.css" type="text/css"></head>
<body><h1>Installation de PrototypePHP</h1><h2>Installation de PrototypePHP</h2>Décompacter
l'archive dans /var/www/html (ou /var/www/htdocs). Vérifiez que le
serveur web a bien les droits pour exécuter les fichiers décompactés
(pour un serveur Apache sous Linux, il faut en général que le groupe
Apache ait les droits de lecture et d'exécution).<h2>Installation de la base de données</h2>Dans votre gestionnaire MySQL (p. e. phpmyadmin), créer la base de données, par exemple <span style="font-style: italic;">proto</span>, ainsi qu'un login et un mot de passe pour pouvoir la manipuler.<br><br>Exécuter le script de création des tables&nbsp;install/proto.sql.<br><h2>Modification des droits sur l'arborescence de l'application<br></h2><p>Modifier les droits sur template_c, qui doit être en écriture totale.<span style="font-weight: bold;"></span></p><h2>Vérification de la configuration du serveur web</h2>Vérifier
que les fichiers .htaccess sont bien interprétés. En particulier, vous
ne devez pas pouvoir accéder en mode web aux fichiers param/param.inc.php (par
exemple).<br>Dans les dernières versions d'Apache, il faut notamment modifier la directive <span style="font-style: italic;">AllowOverride</span> pour le dossier considéré.<h2>Modification des fichiers de paramètres</h2>Renommer le fichier <span style="font-style: italic;">param/param.inc.php.dist</span> en <span style="font-style: italic;">param/param.inc.php</span>.<br>Editer le fichier param/param.inc.php, et modifier les données suivantes en fonction de votre configuration :<br><h3>Les paramètres généraux</h3>$APPLI_address : Adresse de l'application, par exemple : http://monserveur.com/proto<br>$APPLI_mail : mail d'assistance<br>$language
: langue par défaut de l'application. Par défaut,&nbsp;fr_FR. Voir à ce
propos le document sur l'internationalisation du logiciel.<h3>L'accès à la base de données</h3>$BDD_server : Serveur qui contient la base de données de l'application<br>$BDD_login : login utilisé<br>$BDD_passwd : mot de passe correspondant<br>$BDD_database : &nbsp;nom de la base de données<h3>L'accès à la base de données des droits</h3>$GACL_dbserver : Serveur qui héberge la base de données de gestion des droits - intégré par défaut<br>$GACL_dblogin : login correspondant<br>$GACL_dbpasswd : mot de passe correspondant<br>$GACL_database : nom de la base de données de gestion des droits (par défaut, la même que celle de l'application)<br>Il faut également éditer le fichier <span style="font-style: italic;">param/gacl.ini.php</span> pour configurer l'accès à la base de données pour phpgacl :<br>db_host : adresse du serveur mysql<br>db_user : login<br>db_password : mot de passe<br>db_name : nom de la base de données<h3>La gestion de la connexion des utilisateurs</h3>PrototypePHP est capable de gérer trois identifications distinctes :<br>- la première, la plus simple (et gérée par l'application), est une identification en base de données.<br>- la seconde s'appuie sur une identification via un annuaire LDAP<br>- la troisième s'appuie sur un SSO-CAS.<br>Le mode d'identification est définit par la variable suivante, dans le fichier <span style="font-style: italic;">param/param.inc.php</span> :<br>$ident_type : LDAP | CAS |BDD<br><br>Si on identifie les utilisateurs sur l'annuaire LDAP :<br>$LDAP_address : Adresse de l'annuaire<br>$LDAP_port :&nbsp; Port de l'annuaire (par défaut, 389)<br>$LDAP_basedn : Base de recherche des logins (exemple : ou=people,ou=service,o=organisation,c=fr)<br>D'autres paramètres sont configurés par défaut :<br>$LDAP_v3 = true;<br>$LDAP_tls = false; // Mettre à true si l'annuaire ldap fonctionne en mode crypté<br><br>Si on identifie les utilisateurs sur un CAS/SSO :<br>$CAS_address : adresse&nbsp;du CAS<br>$CAS_port : port du CAS (en principe, 443)<br><br></body></html>