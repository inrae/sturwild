\documentclass[12pt %
,a4paper %
,titlepage %
,twoside %
%,openany % ouvre les sections indifféremment sur la page de gauche ou de droite
]{book}

%\usepackage{layout}
%\usepackage[nomarginpar, margin=3cm]{geometry}
% Paramétrages de la langue et de l'encodage
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}

% formules mathématiques
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

% gestion des graphiques
\usepackage{graphicx}

% Gestion des couleurs
\usepackage[usenames,dvipsnames]{xcolor}

% Redefinition des liens web
\usepackage{url}
\usepackage[colorlinks=false,urlbordercolor=white,linkbordercolor=white]{hyperref}

% Définition des marges de la page
%\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}

% Polices de caractères
\usepackage{lmodern}
\usepackage{mathptmx} % times, y compris dans les formules mathématiques

% Insertion de code source dans le texte, à utiliser avec \begin{lstlisting} et \lstset{java|html|php...}
\usepackage{listings}

% Definition de l'affichage du code
\lstset %
{basicstyle=\ttfamily, %frame=single %
,showstringspaces=false %
,tabsize=3 %
,breaklines=true, %
,inputencoding=utf8 %
}

% Définition des entêtes
\usepackage{fancyhdr}
\pagestyle{fancy}

% Redéfinition des titres de section
\usepackage{titlesec}

% Insertion de graphiques à des emplacements définis
\usepackage[abs]{overpic}

% Tableaux
\usepackage{array}
\usepackage{longtable}
\usepackage{float}

% règles typographiques de l'Imprimerie nationale
\usepackage[all]{nowidow}
\usepackage[
% frenchchapters renomme le premier chapitre, mais :
%	- cela pose problème dans la table des matières
%	- cela ne peut être utilisé qu'avec la renumérotation des chapitres activée
%frenchchapters,
parindent,
lastparline,
hyphenation
]{impnattypo}

% Renumérotation des chapitres
%\renewcommand{\thesection}{\Alph{section})}
%\renewcommand{\thesubsection}{\arabic{subsection} -}
%\renewcommand{\thesubsubsection}{\alph{subsubsection} -}
%\usepackage{engrec}
%\renewcommand{\theparagraph}{\engrec{paragraph})}
%\setcounter{secnumdepth}{4}

% Génération du code Ipsum lorem
%\usepackage{blindtext}



% Definition des couleurs IRSTEA
%\definecolor{titreColor}{RGB}{0,58,128}  % Marine
%\definecolor{stitreColor}{RGB}{0,158,224}  % Ocean
%\definecolor{auteurColor}{RGB}{0,58,128}     % Marine
%\definecolor{texteColor}{RGB}{164,196,0}     % Prairie

% Definition des chapitres
\titleformat{\chapter}[display]
{\normalfont\Large\filcenter\sffamily}{
 %\MakeUppercase{\chaptertitlename}
 \chaptertitlename~\thechapter}
{1pc}
%{\titlerule
%% \vspace{1pc}%
\Large

\titleformat{\section}
{\normalfont\Large\bfseries\sffamily}
{\thesection}{1em}{}

\titleformat{\subsection}
{\bfseries\sffamily}
{\thesubsection}{1em}{}

\titleformat{\subsubsection}
{\sffamily\itshape}
{\thesubsubsection}{1em}{}


% Bibliographie
% natbib est indispensable si la biblio contient des accents
% Options pour natbib (extrait de http://merkel.zoneo.net/Latex/natbib.php)
%    round: (par défaut) pour des parenthèses arondies (());
%    square: pour des crochets ([]);
%    curly: pour des accolades ({});
%    angle: pour des équerres (<>) ;
%    colon: (par défaut) pour séparer les citations multiples par deux points (:);
%    comma: pour utiliser une virgule comme séparateur;
%    authoryear: (par défaut) pour des citations auteurs-année;
%    numbers: pour des citations numériques;
%    super: pour des citations numériques en exposant, comme dans Nature;
%    sort: ordonne les citations multiples dans l'ordre dans lequel elles apparaissent dans la bibliographie;
%    sort&compress: comme sort mais en plus les citations numériques multiples sont comprimées, si possible (3-6, 15, par exemple);
%    longnamesfirst: transforme la première citation à une référence en une version étoilée (avec la liste complète des auteurs) et le citations suivantes normales (liste abbrégée);
%    sectionbib: pour redéfinir \thebibliography pour avoir une \section* à la place d'un \chapter*; valide seulement pour les classes de document possédant la commande \chapter; à utiliser avec le paquetage  chapterbib;
%    nonamebreak: garde tous les noms d'auteurs d'une citation sur une même ligne; celà cause des problèmes de débordement, mais permet de résoudre certains problèmes liés à hyperref.

% En cas de souci, supprimez les fichiers .aux et .bbi après modification des paramètres
\usepackage[square,sort,comma,numbers]{natbib}
% styles natbib natifs : abbrvnat, plainnat, unsrtnat
\bibliographystyle{unsrtnat}
\usepackage{hypernat}
% Ajout de la référence à la bibliographie dans la table des matières
\usepackage[nottoc, notlof, notlot]{tocbibind}

\usepackage{titling}
\newcommand{\subtitle}[1]{%
  \posttitle{%
    \par\end{center}
    \begin{center}\large#1\end{center}
    \vskip0.5em}%
}

%Données de titre et d'auteur pour la page de garde
\newcommand{\titre}{Framework PrototypePHP}
\newcommand{\sousTitre}{Comment l'utiliser ?}
\newcommand{\auteur}{Éric Quinton}
\newcommand{\dateModif}{\today}
\title{\titre}
\subtitle{\sousTitre}
\author{\auteur}
\begin{document}
%\layout
%Supprime les veuves et orphelines
\widowpenalty=10000
\clubpenalty=10000
\raggedbottom 
\maketitle
% Integrer la page de garde

% Définition des entêtes
\fancyhead{}
\fancyhead[CO]{\leftmark\sffamily}
\fancyhead[CE]{ \sffamily\titre{}}
\fancyfoot[CO]{\sffamily\thepage}
\fancyfoot[CE]{\sffamily\thepage}
% Redéfinition de \cleardoublepage pour créer une page totalement vide
%\makeatletter
%\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
%  \hbox{}
%  \vspace*{\fill}
%
%  \vspace{\fill}
%  \thispagestyle{empty}
%  \newpage
%  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
%\makeatother

\tableofcontents

\frontmatter
% \cleardoublepage permet de générer une page vide 
% si le chapitre ne commence pas sur la page de droite
% Table des matières

% Ajout d'un préambule

%\cleardoublepage
\mainmatter

\include{presentation}


\part{Le contrôleur}
\include{controleur}
\part{Le modèle}
\include{modele}

\part{Les vues}
\include{vue}

\part{Sécurité et implémentation}
\include{securite}

\end{document}